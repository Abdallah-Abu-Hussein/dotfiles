#################################
#   Backend & General Settings  #
#################################
backend = "glx";              # Use OpenGL backend
vsync = true;                 # Prevent screen tearing
experimental-backends = true; # For better performance with GLX

#################################
#          Shadows              #
#################################
shadow = true;                  # Enable shadows
shadow-radius = 12;              # Shadow blur radius
shadow-offset-x = -12;           # X offset for shadows
shadow-offset-y = -12;           # Y offset for shadows
shadow-opacity = 0.4;            # Shadow transparency
shadow-ignore-shaped = false;

# Skip shadows for these windows
shadow-exclude = [
  "name = 'Notification'",
  "class_g = 'i3-frame'",
  "class_g = 'Conky'",
  "class_g = 'Polybar'",
  "_GTK_FRAME_EXTENTS@:c"
];

#################################
#       Transparency/Fading     #
#################################
inactive-opacity = 0.9;      # Inactive window opacity
active-opacity   = 1.0;      # Active window opacity
frame-opacity    = 1.0;      # Frame opacity
inactive-opacity-override = false;

fading = true;               # Enable fade transitions
fade-delta = 5;              # Time between fade steps (ms)
fade-in-step = 0.03;         # Opacity change per step in fade-in
fade-out-step = 0.03;        # Opacity change per step in fade-out
fade-exclude = [ ];

#################################
#        Corners & Rounding     #
#################################
corner-radius = 10;          # Rounded corners
rounded-corners-exclude = [
  "class_g = 'Polybar'",
  "window_type = 'dock'",
  "window_type = 'desktop'"
];

#################################
#         Blur (Optional)       #
#################################
blur-method = "dual_kawase";
blur-strength = 5;
blur-background-exclude = [
  "class_g = 'Polybar'",
  "window_type = 'dock'",
  "window_type = 'desktop'"
];

#################################
#        Window Rules           #
#################################
opacity-rule = [
  "90:class_g = 'Alacritty'",
  "85:class_g = 'URxvt'",
  "85:class_g = 'kitty'",
  "95:class_g = 'Code'"
];

#################################
#      Performance Tweaks       #
#################################
unredir-if-possible = true;
use-damage = true;
glx-no-stencil = true;
glx-no-rebind-pixmap = true;
xrender-sync-fence = true;

